# http://travis-ci.org/#!/strawlab/pymvg
language: python
python:
    - 2.7
    - 3.3
virtualenv:
    system_site_packages: true
before_install:
    - sudo apt-get update
    - sudo apt-get install python-opencv python-sphinx
install:
    - pip install numpy
    - pip install matplotlib
    - pip install pyyaml
    - python setup.py install
script:
    - nosetests -w pymvg/test
# The following tests depend on the stuff we installed with apt-get, which is only for Python 2
    - if [[ $TRAVIS_PYTHON_VERSION == '2.'* ]]; then nosetests -w pymvg/test/external/cv; fi
    - if [[ $TRAVIS_PYTHON_VERSION == '2.'* ]]; then cd docs; sphinx-build -nW -b singlehtml -d build/doctrees source build/singlehtml; fi
